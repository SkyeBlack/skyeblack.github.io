<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>ETH节点命令 | Skye Black Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="ETH Configgeth节点启动命令进入启动程序目录：&#x2F;本地源码目录&#x2F;go-ethereum&#x2F;build&#x2F;bin 启动节点命令主网1.&#x2F;geth --identity &quot;eth&quot; --datadir &quot;&#x2F;本地源码目录&#x2F;data&quot;  --rpc --rpcapi &quot;db,net,web3,eth,personal,miner&quot; --rpccorsdomain &quot;*&quot;  --rpcaddr 0.0">
<meta property="og:type" content="article">
<meta property="og:title" content="ETH节点命令">
<meta property="og:url" content="https:&#x2F;&#x2F;skyeblack.github.io&#x2F;2019&#x2F;11&#x2F;06&#x2F;eth_cmd&#x2F;index.html">
<meta property="og:site_name" content="Skye Black Blog">
<meta property="og:description" content="ETH Configgeth节点启动命令进入启动程序目录：&#x2F;本地源码目录&#x2F;go-ethereum&#x2F;build&#x2F;bin 启动节点命令主网1.&#x2F;geth --identity &quot;eth&quot; --datadir &quot;&#x2F;本地源码目录&#x2F;data&quot;  --rpc --rpcapi &quot;db,net,web3,eth,personal,miner&quot; --rpccorsdomain &quot;*&quot;  --rpcaddr 0.0">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2019-11-06T07:49:55.208Z">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Skye Black Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Skye Black Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://skyeblack.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-eth_cmd" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/11/06/eth_cmd/" class="article-date">
  <time datetime="2019-11-06T07:47:52.228Z" itemprop="datePublished">2019-11-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      ETH节点命令
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="ETH-Config"><a href="#ETH-Config" class="headerlink" title="ETH Config"></a>ETH Config</h1><h2 id="geth节点启动命令"><a href="#geth节点启动命令" class="headerlink" title="geth节点启动命令"></a>geth节点启动命令</h2><p>进入启动程序目录：<code>/本地源码目录/go-ethereum/build/bin</code></p>
<h2 id="启动节点命令"><a href="#启动节点命令" class="headerlink" title="启动节点命令"></a>启动节点命令</h2><h3 id="主网"><a href="#主网" class="headerlink" title="主网"></a>主网</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./geth --identity <span class="string">"eth"</span> --datadir <span class="string">"/本地源码目录/data"</span>  --rpc --rpcapi <span class="string">"db,net,web3,eth,personal,miner"</span> --rpccorsdomain <span class="string">"*"</span>  --rpcaddr 0.0.0.0 --rpcport 8545 --networkid 1 console 2&gt;&gt; eth.log</span><br></pre></td></tr></table></figure>
<h3 id="测试网"><a href="#测试网" class="headerlink" title="测试网"></a>测试网</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./geth --testnet --datadir <span class="string">"/本地源码目录/testdata"</span>  --rpc --rpcapi <span class="string">"db,net,web3,eth,personal,miner"</span> --rpccorsdomain <span class="string">"*"</span>  --rpcaddr 0.0.0.0 --rpcport 8545 --networkid 3 console 2&gt;&gt; eth.log</span><br></pre></td></tr></table></figure>
<p><code>--testnet表示选择的是ropsten测试网络，如果想要同步rinkeby测试网络，可以更换参数--testnet为--rinkeby</code></p>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数描述</th>
</tr>
</thead>
<tbody><tr>
<td>identity</td>
<td>区块链的标示，用于标示目前网络的名字</td>
</tr>
<tr>
<td>nodiscover</td>
<td>私有链地址，不会被网上看到</td>
</tr>
<tr>
<td>datadir</td>
<td>设置当前区块链网络数据存放的位置</td>
</tr>
<tr>
<td>rpc</td>
<td>开启rpc通道</td>
</tr>
<tr>
<td>rpcapi</td>
<td>要开放哪些rpc api，默认eth,net,web3</td>
</tr>
<tr>
<td>rpccorsdomain</td>
<td>允许能连接到你的节点执行rpc api的url，使用逗号分隔。*表示任何url都可以连接</td>
</tr>
<tr>
<td>rpcaddr</td>
<td>HTTP-RPC服务器接口地址，默认为localhost</td>
</tr>
<tr>
<td>rpcport</td>
<td>HTTP-RPC服务器端口地址，默认为8545</td>
</tr>
<tr>
<td>networkid</td>
<td>网络标识，私有链取一个大于4的随意的值</td>
</tr>
<tr>
<td>console</td>
<td>启动命令行模式，可以在Geth中执行命令</td>
</tr>
<tr>
<td>verbosity</td>
<td>日志详细度:0=silent, 1=error, 2=warn, 3=info, 4=debug, 5=detail(default: 3)<br/>2&gt;&gt; eth.log 表示把控制台日志输出到eth.log文件。新开一个命令行终端，运行tail -f geth.log命令来实时显示日志，这样日志信息就不会出现在终端中，让你在终端运行命令的时候可读性较差</td>
</tr>
</tbody></table>
<p><code>Geth uses port 30303 for connections to peers.</code></p>
<h2 id="以太坊常用networkid"><a href="#以太坊常用networkid" class="headerlink" title="以太坊常用networkid"></a>以太坊常用networkid</h2><table>
<thead>
<tr>
<th>ID</th>
<th>NAME</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>main network</td>
</tr>
<tr>
<td>3</td>
<td>Ropsten</td>
</tr>
<tr>
<td>4</td>
<td>Rinkeby</td>
</tr>
<tr>
<td>42</td>
<td>Kovan</td>
</tr>
<tr>
<td>其它数字为个人自定义私有网络</td>
<td></td>
</tr>
</tbody></table>
<p>0: Olympic, Ethereum public pre-release PoW testnet<br>1: Frontier, Homestead, Metropolis, the Ethereum public PoW main network<br>1: Classic, the (un)forked public Ethereum Classic PoW main network, chain ID 61<br>1: Expanse, an alternative Ethereum implementation, chain ID 2<br>2: Morden Classic, the public Ethereum Classic PoW testnet(deprecated)<br>3: Ropsten, the public cross-client Ethereum PoW testnet<br>4: Rinkeby, the public Geth-only PoA testnet<br>5: Goerli, the public cross-client PoA testnet<br>6: Kotti Classic, the public cross-client PoA testnet for Classic<br>8: Ubiq, the public Gubiq main network with flux difficulty chain ID 8<br>42: Kovan, the public Parity-only PoA testnet<br>60: GoChain, the GoChain networks mainnet<br>77: Sokol, the public POA Network testnet<br>99: Core, the public POA Network main network<br>100: xDai, the public MakerDAO/POA Network main network<br>31337: GoChain testnet, the GoChain networks public testnet<br>401697: Tobalaba, the public Energy Web Foundation testnet<br>7762959: Musicoin, the music blockchain<br>61717561: Aquachain, ASIC resistant chain<br>[Other]: Could indicate that your connected to a local development test network.</p>
<h2 id="进入控制台"><a href="#进入控制台" class="headerlink" title="进入控制台"></a>进入控制台</h2><p><code>./geth attach ipc:/本地数据目录/geth.ipc</code></p>
<h2 id="erc20-智能合约各方法对应的签名编码"><a href="#erc20-智能合约各方法对应的签名编码" class="headerlink" title="erc20 智能合约各方法对应的签名编码"></a>erc20 智能合约各方法对应的签名编码</h2><ul>
<li>常见例如：transfer(address,uint256)<br>编码为：web3.sha3(“transfer(address,uint256)”).substring(0,10)  -&gt; “0xa9059cbb”</li>
<li>balanceOf(address)<br>编码为：web3.sha3(“balanceOf(address)”).substring(0,10)  -&gt; “0x70a08231”</li>
</ul>
<table>
<thead>
<tr>
<th>方法</th>
<th>编码</th>
</tr>
</thead>
<tbody><tr>
<td>transfer(address,uint256)</td>
<td>0xa9059cbb</td>
</tr>
<tr>
<td>balanceOf(address)</td>
<td>0x70a08231</td>
</tr>
<tr>
<td>decimals()</td>
<td>0x313ce567</td>
</tr>
<tr>
<td>allowance(address,address)</td>
<td>0xdd62ed3e</td>
</tr>
<tr>
<td>symbol()</td>
<td>0x95d89b41</td>
</tr>
<tr>
<td>totalSupply()</td>
<td>0x18160ddd</td>
</tr>
<tr>
<td>name()</td>
<td>0x06fdde03</td>
</tr>
<tr>
<td>approve(address,uint256)</td>
<td>0x095ea7b3</td>
</tr>
<tr>
<td>transferFrom(address,address,uint256)</td>
<td>0x23b872dd</td>
</tr>
</tbody></table>
<h2 id="erc20-交易"><a href="#erc20-交易" class="headerlink" title="erc20 交易"></a>erc20 交易</h2><p>传输数据：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Function: transfer(address _to, uint256 _value)</span><br><span class="line"></span><br><span class="line">0xa9059cbb0000000000000000000000000797350000000000000000000000000000000000000000000005150ac4c39a6f3f0000</span><br></pre></td></tr></table></figure>

<p>将数据分解为适当的块：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">0x                                                     // Hex prefix</span><br><span class="line">a9059cbb                                               // web3.sha3(<span class="string">"transfer(address,uint256)"</span>).substring(0,10) =&gt; <span class="string">"0xa9059cbb"</span></span><br><span class="line">0000000000000000000000000797350000000000               // address - 40 characters</span><br><span class="line">000000000000000000000000000000000005150ac4c39a6f3f0000 // value - 54 characters - should be 64 characters</span><br><span class="line"> </span><br><span class="line">// Ruler below </span><br><span class="line">1234567890123456789012345678901234567890123456789012345678901234</span><br></pre></td></tr></table></figure>

<p>值字段将用零填充以组成64个字符：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// Intended transfer amount</span><br><span class="line">// new BigNumber(<span class="string">"5150ac4c39a6f3f0000"</span>,16).div(1e18)</span><br><span class="line">// 23999.99</span><br><span class="line">000000000000000000000000000000000005150ac4c39a6f3f0000</span><br><span class="line"> </span><br><span class="line">// Actual transfer instruction</span><br><span class="line">// new BigNumber(<span class="string">"5150ac4c39a6f3f00000000000000"</span>,16).div(1e18)</span><br><span class="line">26388268071507722.24</span><br><span class="line">000000000000000000000000000000000005150ac4c39a6f3f00000000000000</span><br><span class="line"> </span><br><span class="line">// Ruler below </span><br><span class="line">1234567890123456789012345678901234567890123456789012345678901234</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://skyeblack.github.io/2019/11/06/eth_cmd/" data-id="ck2mzi5kt0000e4u6b9tc21l2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2019/11/06/eth_keythereum/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">keythereum使用</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/11/06/eth_cmd/">ETH节点命令</a>
          </li>
        
          <li>
            <a href="/2019/11/06/eth_keythereum/">keythereum使用</a>
          </li>
        
          <li>
            <a href="/2019/11/06/eth_private/">ETH私链</a>
          </li>
        
          <li>
            <a href="/2019/11/05/vue-npm-plugin/">npm插件开发(基于vue-cli3.x)</a>
          </li>
        
          <li>
            <a href="/2019/11/05/vue-html-component/">在纯html页引入组件</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Skye Black<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>